# Place all the behaviors and hooks related to the matching controller here.
# All this logic will automatically be available in application.js.
# You can use CoffeeScript in this file: http://coffeescript.org/
<% environment.context_class.instance_eval { include StaticPagesHelper } %>

$(document).on "turbolinks:load", ->
  i = 0
  switchInt = 5000
  images_path = <%= raw images_path("static_pages") %>
  elem = $('.background-img')

  chose_background_image = (i) ->
    elem.css('background-image', "url(" + images_path[i] + ")");

  chose_background_image(i)

  setInterval ->
    elem.fadeOut(0)
    chose_background_image(i++)
    elem.fadeIn(0);
    i = 0 if i == images_path.length - 1
  , switchInt
